(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{9529:function(e,t,r){Promise.resolve().then(r.bind(r,3284))},3284:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return j}});var n=r(7437),s=r(2265),o=r(1326),i=r(8438),l=r(6548),a=r(2184),c=r(2030),d=r(9504),u=r(1807),h=r(7300),g=r(124),x=r(4675),p=r(7630),m=r(7699);function w(e){let{onSearch:t,deleteSelection:r,setSelection:w,currentUser:f}=e,[y,j]=s.useState(!1),[v,b]=s.useState(""),k=e=>()=>{j(e)},Z=(0,n.jsxs)(o.Z,{sx:{width:250},role:"presentation",onClick:k(!1),children:[(0,n.jsx)(a.Z,{children:[{text:"Mighty Bot",url:"https://www.mightybot.ai/"},{text:"Feature",url:"https://www.mightybot.ai/#features"},{text:"Solution",url:"https://www.mightybot.ai/#solution"},{text:"Pricing",url:"https://www.mightybot.ai/pricing"}].map((e,t)=>(0,n.jsx)(u.ZP,{disablePadding:!0,children:(0,n.jsx)(h.Z,{onClick:()=>window.open(e.url,"_blank"),children:(0,n.jsx)(g.Z,{primary:e.text})})},e.text))}),(0,n.jsx)(c.Z,{}),(0,n.jsx)(a.Z,{children:[{text:"Terms",url:"https://www.mightybot.ai/terms"},{text:"Privacy",url:"https://www.mightybot.ai/privacy"}].map((e,t)=>(0,n.jsx)(u.ZP,{disablePadding:!0,children:(0,n.jsx)(h.Z,{onClick:()=>window.open(e.url,"_blank"),children:(0,n.jsx)(g.Z,{primary:e.text})})},e.text))})]});return(0,n.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,n.jsx)(d.Z,{onClick:k(!0),style:{marginLeft:"1vw",marginTop:"2vh",cursor:"pointer"},onMouseEnter:e=>{e.target.style.cursor="pointer"},onMouseLeave:e=>{e.target.style.cursor="default"}}),r.length?(0,n.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",width:"50vw",marginTop:"2vh"},children:[(0,n.jsx)(p.Z,{style:{cursor:"pointer"},onMouseEnter:e=>{e.target.style.cursor="pointer"},onMouseLeave:e=>{e.target.style.cursor="default"},onClick:()=>{w([])}}),(0,n.jsxs)("span",{style:{marginLeft:"5px"},children:[r.length," Selected"]}),(0,n.jsx)(l.Z,{variant:"outlined",color:"error",style:{marginLeft:"10px"},onClick:async()=>{try{console.log("Delete feature not required as of now")}catch(e){console.error("Error deleting documents:",e)}},children:"Delete"})]}):(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,n.jsx)(x.Z,{hiddenLabel:!0,placeholder:"Search",id:"outlined-basic",size:"small",value:v,onChange:e=>b(e.target.value),sx:{ml:1,borderRadius:2,width:"40vw",marginTop:"2vh"}}),(0,n.jsx)(l.Z,{variant:"contained",onClick:()=>t(v),sx:{marginLeft:"10px",marginTop:"12px"},children:(0,n.jsx)(m.Z,{})})]}),(0,n.jsx)(i.ZP,{open:y,onClose:k(!1),children:Z}),(0,n.jsx)(l.Z,{style:{marginRight:"1vw"},onClick:async()=>{try{sessionStorage.removeItem("authToken"),window.location.href="/login"}catch(e){console.error("Error logging out:",e)}},children:"Logout"})]})}var f=r(5786),y=e=>{let{data:t,selectItem:r,removeSelection:o}=e,i=(0,s.useRef)([]),[l,c]=(0,s.useState)(!1),d={email:"test@example.com",feature_delete:!1};(0,s.useEffect)(()=>{d?c({email:d.email,feature_delete:d.feature_delete}.feature_delete):console.log("No user is signed in.")},[]);let x=e=>()=>{let t=i.current.indexOf(e),n=[...i.current];-1===t?n.push(e):n.splice(t,1),i.current=n,r(n)};return(0,n.jsx)(a.Z,{dense:!0,sx:{width:"100%",maxWidth:"50vw",bgcolor:"background.paper",marginLeft:"22vw",marginTop:"5vh"},children:t.map((e,t)=>{let r="checkbox-list-secondary-label-".concat(t);return(0,n.jsx)(u.ZP,{secondaryAction:l?(0,n.jsx)(f.Z,{edge:"end",onChange:x(e.index.toString()),checked:-1!==i.current.indexOf(e.index.toString()),inputProps:{"aria-labelledby":r}}):null,disablePadding:!0,children:(0,n.jsx)(h.Z,{onClick:()=>window.open("".concat(e.url),"_blank"),children:(0,n.jsx)(g.Z,{id:r,primary:"".concat(e.title),secondary:(0,n.jsx)("span",{children:(0,n.jsx)("div",{dangerouslySetInnerHTML:{__html:e.text}})})})})},t)})})},j=()=>{let[e,t]=(0,s.useState)(""),[r,o]=(0,s.useState)([]),[i,l]=(0,s.useState)([]),a=s.useRef("");s.useEffect(()=>{let e=sessionStorage.getItem("authToken");e?a.current=e:window.location.href="/login"},[]),(0,s.useEffect)(()=>{c()},[e]);let c=async()=>{try{let t=await fetch("http://35.208.215.114:8005/search/".concat(e),{method:"GET",headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("authToken"))}});if(!t.ok)throw Error("Network response was not ok");let r=await t.json();if(console.log(r.data),r.data){let e=r.data.map((e,t)=>({index:t,title:e.result.title,text:e.result.matched_sentence,url:e.result.url}));o(e)}else console.error("Error fetching data:",r.message)}catch(e){console.error("Error fetching data:",e)}};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(w,{onSearch:e=>{t(e),c()},deleteSelection:i,setSelection:l,currentUser:a.current}),(0,n.jsx)(y,{data:r,selectItem:l,removeSelection:i})]})}}},function(e){e.O(0,[34,616,971,23,744],function(){return e(e.s=9529)}),_N_E=e.O()}]);